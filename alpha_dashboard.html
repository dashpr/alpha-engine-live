<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Alpha Engine â€” Phase 2A</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#081421;
  color:#e6eef7;
}
.container{
  max-width:1100px;
  margin:auto;
  padding:20px;
}
.card{
  background:#0f2235;
  padding:20px;
  border-radius:14px;
  margin-bottom:20px;
}
</style>
</head>

<body>
<div class="container">

<h1>AI Alpha Engine â€” Phase 2A</h1>

<div class="card" id="nav">Loading NAV...</div>
<div class="card" id="deployment">Loading deployment...</div>
<div class="card" id="positions">Loading positions...</div>
<div class="card" id="governance">Loading governance...</div>
<div class="card" id="ai">Loading AI...</div>

</div>

<script>

const BASE = "/alpha-engine-live/phase2/";   // ðŸ”¥ critical fix

async function loadJSON(file){
  try{
    const res = await fetch(BASE + file + "?t=" + Date.now());
    return await res.json();
  }catch(e){
    return null;
  }
}

/* NAV */
loadJSON("nav.json").then(d=>{
  if(!d) return;
  document.getElementById("nav").innerHTML = `
    <h2>Portfolio NAV</h2>
    Capital: â‚¹${d.capital}<br>
    Value: â‚¹${d.value}<br>
    Return: ${d.return_pct}%
  `;
});

/* Deployment */
loadJSON("deployment.json").then(d=>{
  if(!d) return;
  document.getElementById("deployment").innerHTML = `
    <h2>Capital Deployment</h2>
    Deployed: â‚¹${d.deployed}<br>
    Remaining: â‚¹${d.remaining}<br>
    Weeks: ${d.weeks}<br>
    Drawdown: ${d.drawdown}%
  `;
});

/* Positions */
loadJSON("positions.json").then(rows=>{
  if(!rows) return;
  let html = "<h2>Portfolio Positions</h2><table><tr><th>Symbol</th><th>Price</th><th>%</th></tr>";
  rows.forEach(r=>{
    html += `<tr><td>${r.symbol}</td><td>${r.price}</td><td>${r.pct}</td></tr>`;
  });
  html += "</table>";
  document.getElementById("positions").innerHTML = html;
});

/* Governance */
loadJSON("governance.json").then(d=>{
  if(!d) return;
  document.getElementById("governance").innerHTML = `
    <h2>Rebalance & Governance</h2>
    Regime: ${d.regime}<br>
    Stable Days: ${d.stable_days}<br>
    Rebalance Required: ${d.rebalance}
  `;
});

/* AI */
loadJSON("ai.json").then(d=>{
  if(!d) return;
  document.getElementById("ai").innerHTML = `
    <h2>AI Portfolio Intelligence</h2>
    ${d.text}
  `;
});

</script>
</body>
</html>
