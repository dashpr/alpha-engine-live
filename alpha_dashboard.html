<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>AI Alpha Engine — Phase 2A</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #081421;
      color: #e6eef7;
    }

    .container {
      max-width: 1100px;
      margin: auto;
      padding: 20px;
    }

    h1 { margin-bottom: 30px; }

    .card {
      background: #0f2235;
      padding: 20px;
      border-radius: 14px;
      margin-bottom: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      padding: 10px;
      border-bottom: 1px solid #1f3a56;
      text-align: left;
    }
  </style>
</head>

<body>
<div class="container">

<h1>AI Alpha Engine — Phase 2A</h1>

<div class="card" id="nav"></div>
<div class="card" id="deployment"></div>
<div class="card" id="positions"></div>
<div class="card" id="governance"></div>
<div class="card" id="ai"></div>

</div>

<script>
async function loadJSON(path) {
  const res = await fetch(path + "?t=" + Date.now());
  return await res.json();
}

/* NAV */
loadJSON("phase2/nav.json").then(d => {
  document.getElementById("nav").innerHTML = `
    <h2>Portfolio NAV</h2>
    Capital: ₹${d.capital}<br>
    Value: ₹${d.value}<br>
    Return: ${d.return_pct}%
  `;
});

/* Deployment */
loadJSON("phase2/deployment.json").then(d => {
  document.getElementById("deployment").innerHTML = `
    <h2>Capital Deployment</h2>
    Deployed: ₹${d.deployed}<br>
    Remaining: ₹${d.remaining}<br>
    Weeks: ${d.weeks}<br>
    Drawdown: ${d.drawdown}%
  `;
});

/* Positions */
loadJSON("phase2/positions.json").then(rows => {
  let html = "<h2>Portfolio Positions</h2><table><tr><th>Symbol</th><th>Price</th><th>%</th></tr>";
  rows.forEach(r => {
    html += `<tr><td>${r.symbol}</td><td>${r.price}</td><td>${r.pct}</td></tr>`;
  });
  html += "</table>";
  document.getElementById("positions").innerHTML = html;
});

/* Governance */
loadJSON("phase2/governance.json").then(d => {
  document.getElementById("governance").innerHTML = `
    <h2>Rebalance & Governance</h2>
    Regime: ${d.regime}<br>
    Stable Days: ${d.stable_days}<br>
    Rebalance Required: ${d.rebalance}
  `;
});

/* AI */
loadJSON("phase2/ai.json").then(d => {
  document.getElementById("ai").innerHTML = `
    <h2>AI Portfolio Intelligence</h2>
    ${d.text}
  `;
});
</script>

</body>
</html>
